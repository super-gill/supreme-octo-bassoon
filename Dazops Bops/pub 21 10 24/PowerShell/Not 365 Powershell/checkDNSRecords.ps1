$input = @"
Sutton Vane Associates - sva.co.uk
Aardvark Legal Services Ltd - aardvarklegalservices.co.uk
Aardvark Legal Services Ltd - aardvarklegalservices.com
Aardvark Legal Services Ltd - aardvarkplanninglaw.co.uk
Aardvark Legal Services Ltd - aardvarkplanninglaw.com
Aardvark Legal Services Ltd - aardvarkpropertylaw.co.uk
Aardvark Legal Services Ltd - aardvarksolicitors.co.uk
Aardvark Legal Services Ltd - aardvarksolicitors.com
Acorn MK Nurseries Ltd  - ACORN-MK-NURSERIES.CO.UK
Vision Aerospace LTD - akkiaviation.com
Alan Francis Estate Agents and Lettings Ltd - ALANFRANCIS.CO.UK
Albion Land Two Ltd - albionland.co.uk
Vision Aerospace LTD - allenaircraftresprays.com
Blackhams Solicitors - allsoppandco.co.uk
Amspeed Racing Ltd - amspeedracing.co.uk
A R Stacey and Son - arstaceyandson.co.uk
Aspire Personnel Ltd - aspirepersonnelltd.co.uk
BC Workspace - bcworkspace.co.uk
BHB Law - bhblaw.co.uk
Blackhams Solicitors - BLACKHAMS.CO.UK
Blackhams Solicitors - BLACKHAMS.COM
Blumen International Ltd - blumen-uk.com
Bond Freight Forwarding Ltd - bondfreightforwarding.co.uk
Bond Freight Forwarding Ltd - bondfreightforwarding.com
Bond Freight Forwarding Ltd - bondfreightshipping.com
The Parks Trust - campbellwharfmarina.co.uk
The Parks Trust - campbellwharfmarina.com
Carillion Communications - carillioncommunications.com
CBE Global Ltd - cbe-global.com
Chobham Rider - chobhamrider.co.uk
Chobham Rider - chobhamrider.com
Chris Reid Consultancy - CHRISREIDLTD.COM
Digital Origin Solutions Ltd - CILYNYS.CO.UK
Creme Conferences Ltd - CREMEMK.CO.UK
Customer Consulting Ltd - customerconsulting.co.uk
Customer Consulting Ltd - customerconsulting.net
Customer Consulting Ltd - customerconsulting.org
Digital Origin Solutions Ltd - EBS-IT.NET
Eden Financial and Wealth Management Ltd - EDENFWM.CO.UK
Elavation Ltd - elavation.net
Elevation Estate Agents Ltd - elevationestateagents.co.uk
Elevation Estate Agents Ltd - elevationestateagents.com
Elevation Estate Agents Ltd - elevationlettings.co.uk
Elevation Estate Agents Ltd - elevationlettings.com
Elevation Estate Agents Ltd - elevationnewhomes.co.uk
Elevation Estate Agents Ltd - ELEVATIONNEWHOMES.COM
Elevation Estate Agents Ltd - enhmk.co.uk
Elevation Estate Agents Ltd - enhmk.com
Franklins Solicitors LLP - franklins-sol.com
The Richmond Partnership - griersonshaw.co.uk
Chris Reid Consultancy - hnwconsultancy.co.uk
Hydrafeed Ltd - HYDRAFEED.CO.UK
IMS Fire Protection Ltd - IMSFIRE.COM
Jackie Wilsher Staff Service - jackiewilsher.com
JWA Architects - JWA-ARCHITECTS.CO.UK
Kingfields Solicitors - kingfields-marketing.com
Kingfields Solicitors - kingfields.co.uk
Kopak Rubber and Plastics Ltd - KOPAK.CO.UK
KRW Accountants - krwfinancialplanning.co.uk
The Parks Trust - miltonkeynesparkstrust.co.uk
MK Funding Ltd - MKFUNDING.CO.UK
The Parks Trust - MKPARK.CO.UK
The Parks Trust - mkparkstrust.co.uk
The Parks Trust - mkparkstrust.com
The Parks Trust - mkparkstrust.org
The Parks Trust - mkparkstrust.uk
The Parks Trust - mkrose.co.uk
DNS Cloudco Ltd - MKSCA.CO.UK
MTK Communications Ltd - MTKCOMMS.CO.UK
N R P S Ltd - nrps-ltd.co.uk
BBS Law Ltd - orgstockdenton.com
Orpheus CF - ORPHEUSCF.COM
The Parks Trust - parkstrust.co.uk
Prism Ideas - prismideas.co.uk
Prism Ideas - prismideas.com
Pury Hill Limited - puryhill.co.uk
Jackie Wilsher Staff Service - queenswayjobs.com
The Richmond Partnership - richmondanderson.co.uk
RS Response Ltd - rsr.co.uk
RS Response Ltd - RSRESPONSE.CO.UK
RS Response Ltd - RSRESPONSE.COM
SD Installations Ltd - sdinstallations.com
Southgrove Painting Contractors Ltd - southgrovegroup.co.uk
Stockfield Metal Spinners Ltd - STOCKFIELD.COM
Stockfield Metal Spinners Ltd - stockfieldmetalspinners.com
Storm Office Solutions Ltd - stormofficesolutions.com
Customer Consulting Ltd - str-consulting.co.uk
Thomas Connolly - TCMK.CO.UK
The Customer Experience - THE-CUSTOMER-EXPERIENCE.CO.UK
The Oak - theoakaspleyheath.co.uk
The Oak - theoakaspleyheath.pub
The Parks Trust - theparkstrust.co.uk
The Parks Trust - theparkstrust.com
The Parks Trust - theparkstrust.org.uk
The Richmond Partnership - therichmondpartnership.co.uk
Elevation Estate Agents Ltd - thomasandcompany.co.uk
Thomas Connolly - THOMASCONNOLLY.CO.UK
KRW Accountants - thompsonsmk.co.uk
Reid and Co - thornboroughwoods.co.uk
Tofte Manor - TOFTEMANOR.CO.UK
Turweston Flight Centre Ltd - turwestonflight.com
Victoria Law Solicitors - victorialawsolicitors.co.uk
Vision Aerospace LTD - visionaerospace.co.uk
BC Workspace - walshcasual.co.uk
BC Workspace - walshcasual.com
Watling Reclamation - watlingreclamation.co.uk
The Parks Trust - willenlake.org
The Parks Trust - willenlake.org.uk
Zest VP Ltd - zestvp.co.uk
Beacon Energy PLC - advanceplc.com
Americas Ltd - americas.co.uk
Aminex Petroleum Services Ltd - aminex-plc.com
Aminex Petroleum Services Ltd - aminex-plc.info
Aminex Petroleum Services Ltd - aminex-plc.net
Beacon Energy PLC - andalasenergy.co.uk
Andron Handling Solutions Ltd - andronhandlingsolutions.com
AOE Engineering Limited - aoeengineering.com
Wave Healthcare Ltd - astutemeded.co.uk
British Guild of Tourist Guides - besttouristguides.co.uk
British Guild of Tourist Guides - besttouristguides.com
British Guild of Tourist Guides - besttouristguides.org
Digital Origin Solutions Ltd - beyond-networks.co.uk
Digital Origin Solutions Ltd - beyondbackup.co.uk
Digital Origin Solutions Ltd - beyondnetworks.co.uk
Digital Origin Solutions Ltd - beyondnetworks.uk
British Guild of Tourist Guides - blue-badge-guides.com
British Guild of Tourist Guides - blue-badge.org.uk
British Guild of Tourist Guides - bluebadgeguides.org
British Guild of Tourist Guides - britainsbestguides.co.uk
British Guild of Tourist Guides - britainsbestguides.org
British Guild of Tourist Guides - britainsbestguides.org.uk
British Guild of Tourist Guides - britainsbestguides.uk
Bromley Croydon Womans Aid - bromleywa.co.uk
Carillion Communications - carillion.co.uk
Carillion Communications - carillion.com
Carillion Communications - carillion.uk
Carillion Communications - carillioncommunications.co.uk
Carillion Communications - carilliongmbh.com
Carless and Adams Ltd - carless-adams.co.uk
Carless and Adams Ltd - carless-adams.uk
Cool Planet Technologies Ltd - cloughathome.co.uk
Cool Planet Technologies Ltd - coolplanet.world
Cool Planet Technologies Ltd - coolplanetearth.com
Cool Planet Technologies Ltd - coolplanettech.com
Cool Planet Technologies Ltd - coolplanettechnologies.com
CSP Church - cspyouthcentre.org.uk
Hurst Estate Agents - daldorchestates.co.uk
Digital Origin Solutions Ltd - dataonthemove.co.uk
DingoCroft - dingocroft.co.uk
DingoCroft - dingocroft.uk
DRY Architects - dryarchitects.co.uk
Furness Partnership - furnesspartnership.com
Gina Design - ginadesign.co.uk
Glass Aftercare - glassaftercare.com
Field Development Specialists Ltd - gorringe.uk.com
Nu Oil and Gas Plc - guardianglobalsecurity.com
British Guild of Tourist Guides - guidebritain.org
British Guild of Tourist Guides - guidebritain.uk
Chartswood Ltd - hanburys.co.uk
Rob Hersov - hersov.com
Holdsworth Holdings - holdsworthholdings.com
Holdsworth Holdings - holdsworthproperties.com
Hurst Estate Agents - hursts.co.uk
Hy Tech Forming Systems Euro Ltd - hytecheuro.co.uk
Hy Tech Forming Systems Euro Ltd - hytecheuro.uk
Wave Healthcare Ltd - impactmedicaleducation.co.uk
Wave Healthcare Ltd - impactmedicaleducation.com
Wave Healthcare Ltd - impactmedicaleducation.uk
Investres - invesres.com
Invest Africa - investafrica.com
New Songs Admin - jfogarty.co.uk
National Rheumatoid Arthritis Society - jia.org.uk
New Songs Admin - johnfogarty.com
Gaysha Ltd - k-canute.co.uk
Kensington and Chelsea Social Council - kcsc.org.uk
Kensington Traders - kensingtonforge.co.uk
Kensington Traders - kensingtonspirals.co.uk
Miles Preston - milespreston.co.uk
Miles Preston - milespreston.net
Mouktaris and Co Ltd - mouktaris.co.uk
Mouktaris and Co Ltd - mouktaris.com
Mouktaris and Co Ltd - mouktaris.uk
Move Makers - move-makers.co.uk
Museum Of Brands - museumofbrands.org.uk
Museum Of Brands - museumofbrands.uk
Aminex Petroleum Services Ltd - ndovuresources.com
New Songs Admin - newsongsadmin.com
National Rheumatoid Arthritis Society - nras.org.uk
Perfect Colours - perfectcolours.com
Pharos Energy PLC - pharos-energy-corporate.co.uk
Pharos Energy PLC - pharos-energy-corporate.com
Pharos Energy PLC - pharos-energy-group.co.uk
Pharos Energy PLC - pharos-energy-group.com
Pharos Energy PLC - pharos-energy-international.co.uk
Pharos Energy PLC - pharos-energy-international.com
Pharos Energy PLC - pharos-energy-plc.co.uk
Pharos Energy PLC - pharos-energy-plc.com
Pharos Energy PLC - pharos-energy.co.uk
Pharos Energy PLC - pharos.energy
Pharos Energy PLC - pharosenergy.co.uk
Pharos Energy PLC - pharosenergycorporate.co.uk
Pharos Energy PLC - pharosenergycorporate.com
Pharos Energy PLC - pharosenergygroup.co.uk
Pharos Energy PLC - pharosenergygroup.com
Pharos Energy PLC - pharosenergyinternational.co.uk
Pharos Energy PLC - pharosenergyinternational.com
Pharos Energy PLC - pharosenergyplc.co.uk
Pharos Energy PLC - pharosenergyplc.com
National Rheumatoid Arthritis Society - rheumatoid.org
National Rheumatoid Arthritis Society - rheumatoid.org.uk
National Rheumatoid Arthritis Society - rheumatoidarthritis.org.uk
Pharos Energy PLC - soco-ca.com
Pharos Energy PLC - soco.co.uk
Pharos Energy PLC - socointernational.co.uk
Pharos Energy PLC - socointernational.com
Pharos Energy PLC - socointernational.uk
Sutton Vane Associates - sva.uk
The Wesley Hotel - thewesley.co.uk
British Guild of Tourist Guides - tourist-guides.co.uk
British Guild of Tourist Guides - tourist-guides.uk
Tower Systems - towersystems.co.uk
Tower Systems - towersystems.uk
Townley Office Supplies - townleyofficesupplies.co.uk
Townley Office Supplies - townleyofficesupplies.com
Trend Hurst - trendhurst.co.uk
Trend Hurst - trendhurst.com
British Guild of Tourist Guides - uk-tourist-guides.com
Womans Trust - womanstrust.co.uk
Womans Trust - womanstrust.org.uk
Womans Trust - womanstrust.uk
Womans Trust - womenstrust.org.uk
XLP - xlp.org.uk
Womans Trust - youngwomanstrust.org.uk
Womans Trust - youngwomanstrust.uk
Vision Aerospace LTD - visionaerospace.aero
Digital Origin Solutions Ltd - pericom.co.uk
Unknown  - SPORTS-REHABS.COM
Unknown  - SPORTS-REHABS.CO.UK
Unknown  - SAFERENTING.CO.UK
Unknown  - SAFELANDLORDS.CO.UK
Unknown  - SAFELANDLORD.CO.UK
Unknown  - SAFEAGENTSCMP.COM
Unknown  - SAFEAGENTSCMP.CO.UK
Unknown  - SAFEAGENTS.CO.UK
Unknown  - RENTALSFIRST.CO.UK
Unknown  - PHILGOTT.COM
Unknown  - PEOPLEISM.CO.UK
Unknown  - OSMONDGAUNTANDROSE.COM
Unknown  - NALSCHEME.CO.UK
Unknown  - FIRSTFORRENTAL.CO.UK
Unknown  - DPP-BUSINESSTAX.COM
Unknown  - DK-SOLICITORS.CO.UK
Unknown  - DBTANDPARTNERS.CO.UK
Unknown  - CUSTOMERLICENSING.CO.UK
Unknown  - CREATIVECUSTOMERSOLUTIONS.NET
Unknown  - CREATIVECUSTOMERSOLUTIONS.CO.UK
BBS Law Ltd - blandfords.com
BBS Law Ltd - familyarbitratorlondon.co.uk
BBS Law Ltd - familyarbitratorlondon.com
BBS Law Ltd - londonfamilyarbitrator.co.uk
BBS Law Ltd - londonfamilyarbitrator.com
BBS Law Ltd - ogrstockdenton.de
BBS Law Ltd - ogrstockdentonslaw.com
York Associates International Ltd - york-associates.co.uk
Unsworth Rose Solicitors - unsworthrose.com
Silks Solicitors Ltd - silks-solicitors.co.uk
SFR Law - sfrlaw.co.uk
Payne and Gamage - paynegamage.com
Moss and Coleman - mosco.co.uk
Milner Elledge Solicitors - milnerelledge.co.uk
Lamb and Holmes Solicitors - lambandholmes.com
Lamb and Holmes Solicitors - lambandholmes.co.uk
Lamb and Holmes Solicitors - lamb-holmes.co.uk
Finlaysons Lawyers - finlaysonslawyers.co.uk
Faintree Garage Ltd - faintreegroup.co.uk
Faintree Garage Ltd - faintree.co.uk
Davis Simmonds and Donaghey - dsdlaw.co.uk
Davis Simmonds and Donaghey - dsd-law.co.uk
Dixon Rigby Keogh - drk-law.co.uk
Dixon Rigby Keogh - dixonkeoghsolicitors.co.uk
Dixon Rigby Keogh - dixonkeogh.co.uk
Devine OKeeffe Solicitors - devineokeeffe.co.uk
"@

$regex = '(?<=- )\b[a-zA-Z0-9.-]+\.[a-z]{2,}\b'

$domains = [regex]::matches($input, $regex) | ForEach-Object { $_.Value }

$noSPF = @()
foreach ($domain in $domains) {
    try {
        if (-not (resolve-dnsname -name $domain -type txt | Where-Object { $_.strings -match "spf" })) {
            $noSPF += $domain
        }
        else {
            Write-Host "$($domain) has an SPF"
        }
    }
    catch {
        Write-Host "DNS lookup failed on $($domain)" -foregroundcolor Red
    }
}